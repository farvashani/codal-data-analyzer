# 📊 تحلیلگر داده‌های کدال ایران

پروژه‌ای برای جمع‌آوری، تمیزسازی و تحلیل داده‌های مالی از سامانه کدال ایران (سازمان بورس و اوراق بهادار)

## 🎯 اهداف پروژه

- **جمع‌آوری داده‌ها**: دریافت اطلاعات مالی شرکت‌های پذیرفته شده در بورس
- **تمیزسازی داده‌ها**: پاک‌سازی و استانداردسازی داده‌های دریافتی
- **استخراج فیچر**: ایجاد ویژگی‌های مفید برای تحلیل‌های مالی
- **تحلیل روندها**: بررسی الگوها و روندهای موجود در بازار

## 🚀 ویژگی‌ها

- ✅ **اتصال به کدال**: دسترسی مستقیم به داده‌های سامانه کدال
- ✅ **تمیزسازی خودکار**: پاک‌سازی و استانداردسازی داده‌ها
- ✅ **استخراج فیچر**: محاسبه نسبت‌های مالی و شاخص‌های مهم
- ✅ **تحلیل تعاملی**: نوت‌بوک Jupyter برای تحلیل تعاملی
- ✅ **تجسم داده‌ها**: نمودارها و داشبوردهای تحلیلی
- ✅ **ذخیره نتایج**: صادرات داده‌ها در فرمت‌های مختلف

## 📁 ساختار پروژه

```
/home/me/src/
├── codal_data_analyzer.py      # کلاس اصلی تحلیلگر
├── codal_analysis.ipynb        # نوت‌بوک تحلیل تعاملی
├── requirements.txt            # کتابخانه‌های مورد نیاز
├── README.md                   # مستندات پروژه
└── test                        # فایل تست
```

## 🛠️ نصب و راه‌اندازی

### 1. کلون کردن پروژه
```bash
cd /home/me/src
```

### 2. نصب کتابخانه‌های مورد نیاز
```bash
pip install -r requirements.txt
```

### 3. اجرای تحلیلگر
```bash
python codal_data_analyzer.py
```

### 4. اجرای نوت‌بوک تعاملی
```bash
jupyter notebook codal_analysis.ipynb
```

## 📚 استفاده

### استفاده ساده
```python
from codal_data_analyzer import CodalDataAnalyzer

# ایجاد نمونه تحلیلگر
analyzer = CodalDataAnalyzer()

# دریافت لیست شرکت‌ها
companies = analyzer.get_company_list()

# دریافت گزارش‌های یک شرکت
reports = analyzer.get_company_reports("فولاد", days_back=30)

# تمیزسازی داده‌ها
clean_data = analyzer.clean_financial_data(reports)

# استخراج فیچرها
features = analyzer.extract_financial_features(clean_data)
```

### استفاده پیشرفته
```python
# تحلیل روندهای بازار
trends = analyzer.analyze_market_trends(clean_data)

# ذخیره نتایج
analyzer.save_results(clean_data, "financial_data")
analyzer.save_results(features, "extracted_features")
```

## 📊 خروجی‌های پروژه

### فایل‌های تولید شده:
- `companies_list.csv`: لیست کامل شرکت‌های پذیرفته شده
- `cleaned_financial_data.csv`: داده‌های مالی تمیز شده
- `financial_features.csv`: فیچرهای استخراج شده
- `market_trends.json`: تحلیل روندهای بازار

### فیچرهای استخراج شده:
- **نسبت‌های سودآوری**: حاشیه سود، بازده سرمایه
- **شاخص‌های قیمت**: میانگین متحرک، نوسان‌پذیری
- **فیچرهای زمانی**: سال، ماه، فصل
- **روندهای رشد**: رشد درآمد، رشد سود

## 🔧 تنظیمات

### پارامترهای قابل تنظیم:
```python
# تعداد روزهای گذشته برای دریافت داده‌ها
days_back = 30

# تعداد شرکت‌های نمونه برای تحلیل
sample_size = 10

# فرمت ذخیره‌سازی نتایج
output_format = "csv"  # یا "json"
```

## 📈 تحلیل‌های موجود

### 1. تحلیل بر اساس نماد
- میانگین قیمت
- نوسان‌پذیری
- حجم معاملات

### 2. تحلیل زمانی
- روند ماهانه
- الگوهای فصلی
- تغییرات سالانه

### 3. تحلیل همبستگی
- ارتباط بین متغیرها
- شناسایی الگوهای پنهان

## 🚨 محدودیت‌ها و نکات مهم

### محدودیت‌های API:
- محدودیت تعداد درخواست در دقیقه
- نیاز به تاخیر بین درخواست‌ها
- وابستگی به دسترسی سامانه کدال

### نکات مهم:
- همیشه از تاخیر بین درخواست‌ها استفاده کنید
- داده‌ها را به صورت دوره‌ای ذخیره کنید
- از User-Agent مناسب استفاده کنید

## 🔮 برنامه‌های آینده

- [ ] **مدل‌های پیش‌بینی**: الگوریتم‌های یادگیری ماشین
- [ ] **داشبورد تعاملی**: رابط کاربری وب
- [ ] **هشدارهای خودکار**: اطلاع‌رسانی تغییرات مهم
- [ ] **تحلیل‌های عمیق‌تر**: الگوریتم‌های پیچیده‌تر
- [ ] **پشتیبانی از داده‌های تاریخی**: ذخیره طولانی‌مدت

## 🤝 مشارکت

برای مشارکت در پروژه:
1. Fork کنید
2. Branch جدید بسازید
3. تغییرات را اعمال کنید
4. Pull Request ارسال کنید

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## 📞 تماس

برای سوالات و پیشنهادات:
- ایمیل: [ایمیل شما]
- تلگرام: [آیدی تلگرام]

---

**نکته**: این پروژه فقط برای اهداف آموزشی و تحقیقاتی طراحی شده است. لطفاً قوانین و مقررات سامانه کدال را رعایت کنید.
